{"version":3,"sources":["../../src/setup/graphql.js"],"names":["server","console","info","use","authentication","serverConfig","graphql","endpoint","request","schema","graphiql","ide","pretty","context","auth","user","isAuthenticated","id"],"mappings":";;;;;;;;;AACA;;AAGA;;AACA;;AACA;;AANA;AAGA;AAKA;AACe,kBAAUA,MAAV,EAAkB;AAC/BC,EAAAA,OAAO,CAACC,IAAR,CAAa,oBAAb;AAEAF,EAAAA,MAAM,CAACG,GAAP,CAAWC,0BAAX,EAH+B,CAK/B;;AACAJ,EAAAA,MAAM,CAACG,GAAP,CAAWE,mBAAaC,OAAb,CAAqBC,QAAhC,EAA0C,gCAAY,UAAAC,OAAO;AAAA,WAAK;AAChEC,MAAAA,MAAM,EAANA,kBADgE;AAEhEC,MAAAA,QAAQ,EAAEL,mBAAaC,OAAb,CAAqBK,GAFiC;AAGhEC,MAAAA,MAAM,EAAEP,mBAAaC,OAAb,CAAqBM,MAHmC;AAIhEC,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAE;AACJC,UAAAA,IAAI,EAAEP,OAAO,CAACO,IADV;AAEJC,UAAAA,eAAe,EAAER,OAAO,CAACO,IAAR,IAAgBP,OAAO,CAACO,IAAR,CAAaE,EAAb,GAAkB;AAF/C;AADC;AAJuD,KAAL;AAAA,GAAnB,CAA1C;AAWD","sourcesContent":["// Imports\nimport graphqlHTTP from 'express-graphql'\n\n// App Imports\nimport serverConfig from '../config/server.json'\nimport authentication from './authentication'\nimport schema from './schema'\n\n// Setup GraphQL\nexport default function (server) {\n  console.info('SETUP - GraphQL...')\n\n  server.use(authentication)\n\n  // API (GraphQL on route `/`)\n  server.use(serverConfig.graphql.endpoint, graphqlHTTP(request => ({\n    schema,\n    graphiql: serverConfig.graphql.ide,\n    pretty: serverConfig.graphql.pretty,\n    context: {\n      auth: {\n        user: request.user,\n        isAuthenticated: request.user && request.user.id > 0\n      }\n    }\n  })))\n}\n"],"file":"graphql.js"}